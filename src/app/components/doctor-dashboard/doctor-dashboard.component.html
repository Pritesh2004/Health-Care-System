<app-doctor-navbar></app-doctor-navbar>

<div class="bootstrap-wrapper">
  <div class="row ">
    <div class="col-lg-3 side-bar">
      <div class="row">
        <div class="col-lg-12 profile">
          <img src="./../../../assets/images/man.png" width="160px">
          <h1 id="dr_name">Dr. {{doctor_details.name}}</h1>
          <p id="dr_specialty">{{doctor_details.speciality}}</p>
        </div>
      </div>




    </div>
    <div class="col-lg-8 table">
      <div class="row">
        <div class="col-lg-11">
          <h1 class="heading">Appointments Schedule</h1>
          <mat-form-field id="search">
            <mat-label>Search Appointments</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
          </mat-form-field>
          <section class="example-container mat-elevation-z8" tabindex="0">
          <table mat-table [dataSource]="dataSource"  >


            <ng-container matColumnDef="serialNo" sticky>
              <th mat-header-cell *matHeaderCellDef> Serial No. </th>
              <td mat-cell *matCellDef="let element; let i = index"> {{ i + 1 }} </td>
            </ng-container>


            <!-- Name Column -->
            <ng-container matColumnDef="patient_firstName" sticky>
              <th mat-header-cell *matHeaderCellDef> Patient First Name </th>
              <td mat-cell *matCellDef="let element"> {{element.patient_firstName}} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="patient_lastName">
              <th mat-header-cell *matHeaderCellDef> Patient Last Name </th>
              <td mat-cell *matCellDef="let element"> {{element.patient_lastName}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <!-- <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef> Email </th>
              <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container> -->
            <ng-container matColumnDef="patient_gender">
              <th mat-header-cell *matHeaderCellDef> Gender </th>
              <td mat-cell *matCellDef="let element"> {{element.patient_gender}} </td>
            </ng-container>

            <ng-container matColumnDef="appointment_date">
              <th mat-header-cell *matHeaderCellDef> Appointment Date </th>
              <td mat-cell *matCellDef="let element"> {{element.appointment_date}} </td>
            </ng-container>

            <ng-container matColumnDef="appointment_time">
              <th mat-header-cell *matHeaderCellDef> Appointment Time </th>
              <td mat-cell *matCellDef="let element"> {{element.appointment_time}} </td>
            </ng-container>

            <!-- <ng-container matColumnDef="booking_time">
              <th mat-header-cell *matHeaderCellDef> Appointment Applied Time </th>
              <td mat-cell *matCellDef="let element"> {{element.booking_time}} </td>
            </ng-container> -->

            <ng-container matColumnDef="reason" >
              <th mat-header-cell *matHeaderCellDef> Reason </th>
              <td mat-cell *matCellDef="let element"> {{element.reason}} </td>
            </ng-container>

            <ng-container matColumnDef="appointment_status" stickyEnd>
              <th mat-header-cell *matHeaderCellDef> Approve Appointment </th>
              <td mat-cell *matCellDef="let element">
                <ng-container *ngIf="element.appointment_status"><span id="approved">Approved</span></ng-container>
                <ng-container *ngIf="!element.appointment_status"><button (click)="approveAppointment(element)"
                    [disabled]="element.appointment_rejected" mat-raised-button color="success">Approve
                  </button></ng-container>
              </td>
            </ng-container>

            <ng-container matColumnDef="appointment_rejected" stickyEnd>
              <th mat-header-cell *matHeaderCellDef> Reject Appointment </th>
              <td mat-cell *matCellDef="let element">
                <ng-container *ngIf="element.appointment_rejected"><span id="rejected">Rejected</span></ng-container>

                <ng-container *ngIf="!element.appointment_rejected"> <button (click)="rejectAppointment(element)"
                    [disabled]="element.appointment_status" mat-raised-button
                    color="warn">Reject</button></ng-container>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
              <td class="mat-cell" colspan="4">No Appointments sceduled "{{input.value}}"</td>
            </tr>
          </table>
          </section>
        </div>
      </div>


    </div>
  </div>
</div>